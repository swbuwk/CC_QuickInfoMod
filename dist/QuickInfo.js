(()=>{"use strict";var e={921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BUILDING_NAMES=t.MULT_CLICK_IDS=t.SHORT_BUFF_NAMES=t.INFO_BLOCK_FONT_SIZE=t.INFO_BLOCK_SIZE=t.ICON_SIZE=t.ICON_URL=void 0,t.ICON_URL="http://cdn.dashnet.org/cookieclicker/beta/img/icons.png?v=2.052",t.ICON_SIZE=18,t.INFO_BLOCK_SIZE=16,t.INFO_BLOCK_FONT_SIZE=12,t.SHORT_BUFF_NAMES={frenzy:"F",click_frenzy:"CF",dragon_harvest:"DH",dragonflight:"DF",cursed_finger:"CuF",cookie_storm:"CS",blood_frenzy:"EF"},t.MULT_CLICK_IDS=["click_frenzy","dragonflight","cursed_finger"],t.BUILDING_NAMES=["Cursor","Grandma","Farm","Mine","Factory","Bank","Temple","Wizard Tower","Shipment","Alchemy Lab","Portal","Time Machine","Antim. Condenser","Prism","Chancemaker","Fractal engine","Javascript console","Idleverse","Cortex baker","You"]},204:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.settingsOptions=t.settings=t.globalVars=void 0;const a=n(921);t.globalVars={buffTimers:[],natGCOnScreen:!1,GCnoSpawnChance:1},t.settings={guiScale:1,updateFrequency:10,shortBuffNames:!0,showBuildingName:!1},t.settingsOptions=[{id:"guiScale",name:"GUI Scale",type:"slider",min:.5,max:2,step:.1,default:1,valueFormat:"x{val}",onChange:e=>{const t=l("QIContainer");t&&t.querySelectorAll("div").forEach((t=>{t.style.height=e*a.INFO_BLOCK_SIZE+"px",t.style.fontSize=e*a.INFO_BLOCK_FONT_SIZE+"px"}))}},{id:"updateFrequency",name:"Update Frequency",type:"slider",min:1,max:100,step:1,default:10,valueFormat:"every {val} ticks"},{id:"shortBuffNames",name:"Short buff names",type:"boolean",default:!0},{id:"showBuildingName",name:"Show building special names",type:"boolean",default:!1}]},656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createInfoBlock=void 0;const a=n(921),i=n(204);t.createInfoBlock=e=>{const t=document.createElement("div");t.id="QI_"+e,t.style.position="relative",t.style.display="flex",t.style.alignItems="center",t.style.gap="6px",t.style.height=i.settings.guiScale*a.INFO_BLOCK_SIZE+"px",t.style.fontSize=i.settings.guiScale*a.INFO_BLOCK_FONT_SIZE+"px",t.style.padding="3px 6px",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.borderRadius="5px",l("QIContainer")?.appendChild(t)}},528:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initInfoContainer=void 0,t.initInfoContainer=()=>{const e=document.createElement("div");e.id="QIContainer",e.style.position="absolute",e.style.top="10px",e.style.left="10px",e.style.zIndex="1000",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="flex-start",e.style.justifyContent="center",e.style.gap="3px",e.style.fontWeight="bold",l("sectionLeft")?.appendChild(e)}},396:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createBooleanSettingsOption=void 0;const a=n(204);t.createBooleanSettingsOption=(e,t)=>{const n=a.settings[t.id],i=document.createElement("a");i.classList.add("smallFancyButton","prefButton","option"),n||i.classList.add("off"),i.innerHTML=`${t.name} ${n?"ON":"OFF"}`,i.onclick=()=>{const e=!a.settings[t.id];(e=>{a.settings[t.id]=e,i.innerHTML=`${t.name} ${e?"ON":"OFF"}`;const n=e?"remove":"add";i.classList[n]("off")})(e),PlaySound("snd/tick.mp3"),t.onChange&&t.onChange(e)},e.appendChild(i),e.appendChild(document.createElement("br"))}},978:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSliderSettingOption=void 0;const a=n(204);t.createSliderSettingOption=(e,t)=>{const n=a.settings[t.id],i=document.createElement("div");i.className="sliderBox";const s=document.createElement("div");s.style.float="left",s.className="smallFancyButton",s.innerHTML=t.name;const l=document.createElement("div");l.style.float="right",l.className="smallFancyButton",l.innerHTML=t.valueFormat?.replaceAll("{val}",String(n));const o=document.createElement("input");o.className="slider",o.type="range",o.min=String(t.min),o.max=String(t.max),o.step=String(t.step),o.value=String(void 0!==n?n:t.default),i.appendChild(s),i.appendChild(l),i.appendChild(o);const r=e=>{a.settings[t.id]=+e,l.innerHTML=t.valueFormat?.replaceAll("{val}",e),t.onChange&&t.onChange(+e)};i.onchange=()=>{r(o.value),PlaySound("snd/tick.mp3")},i.oninput=()=>{r(o.value)},e.appendChild(i),e.appendChild(document.createElement("br"))}},360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createSettingsOption=void 0;const a=n(396),i=n(978);t.createSettingsOption=(e,t)=>{"slider"===t.type?(0,i.createSliderSettingOption)(e,t):"boolean"===t.type&&(0,a.createBooleanSettingsOption)(e,t)}},274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CheckGCSpawn=void 0;const a=n(204);t.CheckGCSpawn=()=>{let e=!1;Game.shimmers.forEach((t=>{"golden"===t.type&&t.spawnLead&&(e=!0,a.globalVars.GCnoSpawnChance=1)})),a.globalVars.natGCOnScreen=e}},37:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceNativeHandlers=void 0;const a=n(204),i=n(360);t.replaceNativeHandlers=()=>{const e=Game.UpdateMenu;Game.UpdateMenu=()=>{e(),(()=>{if(!l("menu")?.childNodes?.length)return;const e=document.createElement("div");e.id="QISettings",e.className="subsection";const t=document.createElement("div");t.className="title",t.innerHTML="Quick Info Settings";const n=document.createElement("div");n.className="listing",a.settingsOptions.forEach((e=>{(0,i.createSettingsOption)(n,e)})),e.appendChild(t),e.appendChild(n),l("menu")?.insertBefore(e,l("menu")?.childNodes[3]||null)})()}}},962:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateBuffsTimer=void 0;const a=n(921),i=n(204),s=n(245),o=n(656);t.UpdateBuffsTimer=()=>{if(Object.keys(Game.buffs).forEach((e=>{const t=Game.buffs[e];if(!t)return;const{time:n,multCpS:r,multClick:c}=t,d=s.BuffUtils.getId(t),p=Math.ceil(n/Game.fps),u=s.BuffUtils.getName(t),m=s.BuffUtils.getIcon(t),g=(a.MULT_CLICK_IDS.includes(d)?c:r)||0,f=g>1?"rgb(2, 253, 2)":"rgb(255, 42, 75)";i.globalVars.buffTimers.find((e=>e.id===d))||((0,o.createInfoBlock)(d),i.globalVars.buffTimers.push({id:d,key:e}));const _=l("QI_"+d);_&&(_.innerHTML=`\n      ${m}<span>${u}: ${p}s</span> <span style="color: ${f}; display: ${0===g?"none":"inline"};">x${parseFloat(g.toFixed(1))}</span>\n    `)})),i.globalVars.buffTimers.length>Object.keys(Game.buffs).length){let e="";i.globalVars.buffTimers.forEach(((t,n)=>{if(!Object.keys(Game.buffs).includes(t.key)){const n=l("QI_"+t.id);if(!n)return;n.remove(),e=t.id}})),i.globalVars.buffTimers=i.globalVars.buffTimers.filter((t=>t.id!==e))}}},676:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateGCTimer=void 0;const a=n(921),i=n(204),s=n(758);t.UpdateGCTimer=()=>{const e=Game.shimmerTypes.golden.minTime,t=Game.shimmerTypes.golden.maxTime,n=t-e,o=Game.shimmerTypes.golden.time,r=Math.ceil((e-o)/Game.fps),c=`${r>0?`${r}+`:""}${Math.ceil(Math.min(n,t-o)/Game.fps)}s`,d=Math.max(0,(o-e)/(t-e))**5;i.globalVars.GCnoSpawnChance*=1-d;const p=(100*(1-i.globalVars.GCnoSpawnChance)).toFixed(1),u=(0,s.colorInterpolate)([255,42,75],[2,253,2],Math.min(1,parseFloat(p)/50)),m=l("QI_GCTimer");m&&(m.style.height=i.settings.guiScale*a.INFO_BLOCK_SIZE+"px",m.style.fontSize=i.settings.guiScale*a.INFO_BLOCK_FONT_SIZE+"px",i.globalVars.natGCOnScreen?m.innerHTML='<span style="color: rgb(255, 255, 255);">GC: On screen</span>':m.innerHTML=`<span style="color: rgb(255, 255, 255);">GC: ${c}</span> <span style="color: rgb(${u.toString()});">${p}%</span>`)}},245:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BuffUtils=void 0;const a=n(921),i=n(204),s=e=>{const{type:t,arg2:n}=e,{name:a}=t;return(a.includes("building")?`${a}_${n}`:a).replaceAll(" ","_")},l=e=>{const{arg2:t}=e;return void 0===t?"":a.BUILDING_NAMES[t]};t.BuffUtils={getId:s,getName:e=>{let t,n=s(e);return t=i.settings.shortBuffNames?n.includes("building_buff")?"BS":n.includes("building_debuff")?"Rust":a.SHORT_BUFF_NAMES[n]||e?.name:e?.name,i.settings.showBuildingName&&n.includes("building")&&(t+=` (${l(e)})`),t},getIcon:e=>{const{icon:t}=e,n=i.settings.guiScale*a.ICON_SIZE,s=`${-t[0]*n}px ${-t[1]*n}px`,l=36*n+"px";return`\n    <div style="width: ${n}px; height: ${n}px; background-image: url(${a.ICON_URL}); background-size: ${l}; background-position: ${s}"></div>\n  `},getBuildingName:l}},758:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colorInterpolate=void 0,t.colorInterpolate=(e,t,n)=>[0,0,0].map(((a,i)=>Math.round(e[i]*(1-n)+t[i]*n)))}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}(()=>{const e=n(204),t=n(274),a=n(37),i=n(962),s=n(676),l=n(656),o=n(528),r=()=>{Game.drawT%Math.ceil(e.settings.updateFrequency/2)==0&&((0,s.UpdateGCTimer)(),Game.drawT%e.settings.updateFrequency==0&&((0,t.CheckGCSpawn)(),(0,i.UpdateBuffsTimer)()))},c={init:()=>{(0,o.initInfoContainer)(),(0,a.replaceNativeHandlers)(),(0,l.createInfoBlock)("GCTimer"),Game.registerHook("draw",r)},save:()=>JSON.stringify(e.settings),load:t=>{const n=JSON.parse(t);Object.keys(n).forEach((t=>{e.settings[t]=n[t]}))}};Game.registerMod("QuickInfo",c)})()})();
//# sourceMappingURL=https://swbuwk.github.io/CC_QuickInfoMod/dist/QuickInfo.js.map