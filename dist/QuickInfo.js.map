{"version":3,"file":"QuickInfo.js","mappings":"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","sources":["webpack:///./src/constants.ts","webpack:///./src/globalVariables.ts","webpack:///./src/hooks/CheckGCSpawn.ts","webpack:///./src/hooks/UpdateBuffsHook.ts","webpack:///./src/hooks/UpdateGCTimerHook.ts","webpack:///./src/utils/buff.ts","webpack:///./src/utils/colorInterpolate.ts","webpack:///./src/utils/createInfoBlock.ts","webpack:///webpack/bootstrap","webpack:///./src/main.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MULT_CLICK_IDS = exports.BUFF_NAMES = exports.ICON_SIZE = exports.ICON_URL = void 0;\nexports.ICON_URL = \"http://cdn.dashnet.org/cookieclicker/beta/img/icons.png?v=2.052\";\nexports.ICON_SIZE = 20;\nexports.BUFF_NAMES = {\n    \"frenzy\": \"F\",\n    \"click_frenzy\": \"CF\",\n    \"dragon_harvest\": \"DH\",\n    \"dragonflight\": \"DF\",\n    \"cursed_finger\": \"CuF\",\n    \"cookie_storm\": \"CS\",\n    \"blood_frenzy\": \"EF\"\n};\nexports.MULT_CLICK_IDS = [\n    \"click_frenzy\",\n    \"dragonflight\",\n    \"cursed_finger\"\n];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.globalVars = void 0;\nexports.globalVars = {\n    buffTimers: [],\n    natGCOnScreen: false,\n    GCnoSpawnChance: 1\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckGCSpawn = void 0;\nconst globalVariables_1 = require(\"../globalVariables\");\nconst CheckGCSpawn = () => {\n    let hasNatGC = false;\n    Game.shimmers.forEach((shimmer) => {\n        if (shimmer.type === \"golden\" && shimmer.spawnLead) {\n            hasNatGC = true;\n            globalVariables_1.globalVars.GCnoSpawnChance = 1;\n        }\n    });\n    globalVariables_1.globalVars.natGCOnScreen = hasNatGC;\n};\nexports.CheckGCSpawn = CheckGCSpawn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateBuffsTimer = void 0;\nconst constants_1 = require(\"../constants\");\nconst globalVariables_1 = require(\"../globalVariables\");\nconst buff_1 = require(\"../utils/buff\");\nconst createInfoBlock_1 = require(\"../utils/createInfoBlock\");\nconst UpdateBuffsTimer = () => {\n    Object.keys(Game.buffs).forEach((key) => {\n        const buff = Game.buffs[key];\n        if (!buff)\n            return;\n        const { name, time, multCpS, multClick } = buff;\n        const buffId = buff_1.BuffUtils.getId(buff);\n        const buffTime = Math.ceil(time / Game.fps);\n        const buffName = buff_1.BuffUtils.getName(buff);\n        const buffIcon = buff_1.BuffUtils.getIcon(buff);\n        const buffMult = (constants_1.MULT_CLICK_IDS.includes(buffId) ? multClick : multCpS) || 0;\n        const buffMultColor = buffMult > 1 ? \"rgb(2, 253, 2)\" : \"rgb(255, 42, 75)\";\n        if (!globalVariables_1.globalVars.buffTimers.find(b => b.id === buffId)) {\n            (0, createInfoBlock_1.createInfoBlock)(buffId);\n            globalVariables_1.globalVars.buffTimers.push({ id: buffId, key });\n        }\n        const buffEl = l(\"QI_\" + buffId);\n        if (!buffEl)\n            return;\n        buffEl.innerHTML = `\r\n      ${buffIcon}<span>${buffName}: ${buffTime}s</span> <span style=\"color: ${buffMultColor};\">x${parseFloat(buffMult.toFixed(1))}</span>\r\n    `;\n    });\n    if (globalVariables_1.globalVars.buffTimers.length > Object.keys(Game.buffs).length) {\n        let deletedId = \"\";\n        globalVariables_1.globalVars.buffTimers.forEach((buff, i) => {\n            if (!Object.keys(Game.buffs).includes(buff.key)) {\n                const buffEl = l(\"QI_\" + buff.id);\n                if (!buffEl)\n                    return;\n                buffEl.remove();\n                deletedId = buff.id;\n            }\n        });\n        globalVariables_1.globalVars.buffTimers = globalVariables_1.globalVars.buffTimers.filter(buff => buff.id !== deletedId);\n    }\n};\nexports.UpdateBuffsTimer = UpdateBuffsTimer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateGCTimer = void 0;\nconst globalVariables_1 = require(\"../globalVariables\");\nconst colorInterpolate_1 = require(\"../utils/colorInterpolate\");\nconst UpdateGCTimer = () => {\n    const minT = Game.shimmerTypes.golden.minTime;\n    const maxT = Game.shimmerTypes.golden.maxTime;\n    const difT = maxT - minT;\n    const t = Game.shimmerTypes.golden.time;\n    const timeToMin = Math.ceil((minT - t) / Game.fps);\n    const timeToMax = Math.ceil(Math.min(difT, maxT - t) / Game.fps);\n    const timerString = `${timeToMin > 0 ? `${timeToMin}+` : \"\"}${timeToMax}s`;\n    const chanceToSpawnTick = Math.max(0, (t - minT) / (maxT - minT)) ** 5;\n    globalVariables_1.globalVars.GCnoSpawnChance *= 1 - chanceToSpawnTick;\n    const GCChance = parseFloat(((1 - globalVariables_1.globalVars.GCnoSpawnChance) * 100).toFixed(1));\n    const GCChanceColor = (0, colorInterpolate_1.colorInterpolate)([255, 42, 75], [2, 253, 2], Math.min(1, GCChance / 50));\n    const GCTimer = l(\"QI_GCTimer\");\n    if (!GCTimer)\n        return;\n    if (globalVariables_1.globalVars.natGCOnScreen) {\n        GCTimer.innerHTML = `<span style=\"color: rgb(255, 255, 255);\">GC: On screen</span>`;\n        return;\n    }\n    GCTimer.innerHTML = `<span style=\"color: rgb(255, 255, 255);\">GC: ${timerString}</span> <span style=\"color: rgb(${GCChanceColor.toString()});\">${GCChance}%</span>`;\n};\nexports.UpdateGCTimer = UpdateGCTimer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BuffUtils = void 0;\nconst constants_1 = require(\"../constants\");\nconst getId = (buff) => {\n    const { type: buffType, arg2 } = buff;\n    const { name: buffTypeName } = buffType;\n    const buffId = buffTypeName === \"building buff\" ? `${buffTypeName}_${arg2}` : buffTypeName;\n    return buffId.replaceAll(\" \", \"_\");\n};\nconst getName = (buff) => {\n    let buffId = getId(buff);\n    if (buffId.includes(\"building_buff\"))\n        return \"BS\";\n    return constants_1.BUFF_NAMES[buffId] || buff?.name;\n};\nconst getIcon = (buff) => {\n    const { icon } = buff;\n    const backgroundPos = `${-icon[0] * constants_1.ICON_SIZE}px ${-icon[1] * constants_1.ICON_SIZE}px`;\n    const backgroundSize = `${36 * constants_1.ICON_SIZE}px`;\n    return `\r\n    <div style=\"width: ${constants_1.ICON_SIZE}px; height: ${constants_1.ICON_SIZE}px; background-image: url(${constants_1.ICON_URL}); background-size: ${backgroundSize}; background-position: ${backgroundPos}\"></div>\r\n  `;\n};\nexports.BuffUtils = {\n    getId,\n    getName,\n    getIcon,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.colorInterpolate = void 0;\nconst colorInterpolate = (colorA, colorB, intval) => {\n    const color = [0, 0, 0];\n    return color.map((_, i) => Math.round(colorA[i] * (1 - intval) + colorB[i] * intval));\n};\nexports.colorInterpolate = colorInterpolate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createInfoBlock = void 0;\nconst createInfoBlock = (id) => {\n    const infoBlock = document.createElement(\"div\");\n    infoBlock.id = \"QI_\" + id;\n    infoBlock.style.position = \"relative\";\n    infoBlock.style.display = \"flex\";\n    infoBlock.style.alignItems = \"center\";\n    infoBlock.style.gap = \"6px\";\n    infoBlock.style.height = \"20px\";\n    infoBlock.style.padding = \"3px 6px\";\n    infoBlock.style.backgroundColor = \"rgba(0, 0, 0, 0.5)\";\n    infoBlock.style.borderRadius = \"5px\";\n    l(\"QIContainer\")?.appendChild(infoBlock);\n};\nexports.createInfoBlock = createInfoBlock;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CheckGCSpawn_1 = require(\"./hooks/CheckGCSpawn\");\nconst UpdateBuffsHook_1 = require(\"./hooks/UpdateBuffsHook\");\nconst UpdateGCTimerHook_1 = require(\"./hooks/UpdateGCTimerHook\");\nconst createInfoBlock_1 = require(\"./utils/createInfoBlock\");\nconst initInfoContainer = () => {\n    const QIContainer = document.createElement(\"div\");\n    QIContainer.id = \"QIContainer\";\n    QIContainer.style.position = \"absolute\";\n    QIContainer.style.top = \"10px\";\n    QIContainer.style.left = \"10px\";\n    QIContainer.style.zIndex = \"1000\";\n    QIContainer.style.display = \"flex\";\n    QIContainer.style.flexDirection = \"column\";\n    QIContainer.style.alignItems = \"flex-start\";\n    QIContainer.style.justifyContent = \"center\";\n    QIContainer.style.gap = \"3px\";\n    QIContainer.style.fontWeight = \"bold\";\n    l(\"sectionLeft\")?.appendChild(QIContainer);\n};\nconst QIDrawHook = () => {\n    (0, CheckGCSpawn_1.CheckGCSpawn)();\n    (0, UpdateGCTimerHook_1.UpdateGCTimer)();\n    (0, UpdateBuffsHook_1.UpdateBuffsTimer)();\n};\nconst init = () => {\n    initInfoContainer();\n    (0, createInfoBlock_1.createInfoBlock)(\"GCTimer\");\n    Game.registerHook(\"draw\", QIDrawHook);\n};\nconst QIMod = {\n    init,\n};\nGame.registerMod('QuickInfo', QIMod);\n"],"names":["Object","defineProperty","exports","value","MULT_CLICK_IDS","BUFF_NAMES","ICON_SIZE","ICON_URL","globalVars","buffTimers","natGCOnScreen","GCnoSpawnChance","CheckGCSpawn","globalVariables_1","hasNatGC","Game","shimmers","forEach","shimmer","type","spawnLead","UpdateBuffsTimer","constants_1","buff_1","createInfoBlock_1","keys","buffs","key","buff","name","time","multCpS","multClick","buffId","BuffUtils","getId","buffTime","Math","ceil","fps","buffName","getName","buffIcon","getIcon","buffMult","includes","buffMultColor","find","b","id","createInfoBlock","push","buffEl","l","innerHTML","parseFloat","toFixed","length","deletedId","i","remove","filter","UpdateGCTimer","colorInterpolate_1","minT","shimmerTypes","golden","minTime","maxT","maxTime","difT","t","timeToMin","timerString","min","chanceToSpawnTick","max","GCChance","GCChanceColor","colorInterpolate","GCTimer","toString","buffType","arg2","buffTypeName","replaceAll","icon","backgroundPos","backgroundSize","colorA","colorB","intval","map","_","round","infoBlock","document","createElement","style","position","display","alignItems","gap","height","padding","backgroundColor","borderRadius","appendChild","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","CheckGCSpawn_1","UpdateBuffsHook_1","UpdateGCTimerHook_1","QIDrawHook","QIMod","init","QIContainer","top","left","zIndex","flexDirection","justifyContent","fontWeight","initInfoContainer","registerHook","registerMod"],"sourceRoot":""}